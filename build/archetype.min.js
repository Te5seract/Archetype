(()=>{"use strict";class t{constructor({pages:t,config:s,provider:o}){this.config=s,this.provider=o,this.pages=t,this.route=window.location.pathname,this.#t()}#t(){this.pages(this.#s.bind(this))}#s(t,s){this.config.read("pages",t),this.#o(t)}#o(t){}}class s{constructor(t){this.instance=t,this.proto=t.prototype,this.errors={noconfig:`Archetype Error: A page must have a config_ method "${this.proto.constructor.name}" is lacking this method.`,noroute:`Archetype Error: A page must include a route property in the config_ method's return value, ${this.proto.constructor.name} is lacking this property.`},this.#e()}#e(){if(!this.proto.config_)throw this.errors.noconfig;this.#i()}#i(){if(!this.proto.config_().route)throw this.errors.noroute}get(){return this.instance.config_()}}class o{read(t,s){t.match(/page|pages/)&&this.#r(s)}#r(t){new s(t)}}class e{}window.Archetype=class{constructor(){this.#t(),this.provider=new e}#t(){if(!this.pages)return;new t({pages:this.pages,config:new o,provider:this.provider})}}})();